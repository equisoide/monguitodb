<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Collection</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: Collection</h1>
    
    



<section>
    
<header>
    <h2>
    Collection
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="Collection"><span class="type-signature"></span>new Collection<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        A collection is a set of documents. It is equivalent to a table in therelational world, with the difference that a collection does not enforcea schema.<br><br>The following actions can be performed on a Collection: insert, update,remove, get, find, findOne, count.<br><br>Collections are initialized by MonguitoDB() constructor, so, don'tinitialize collections by yourself!
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.0.1, Jun 2014</li></ul></dd>
    
    
    

    
    
    
    
    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>Juan Cuartas</li>
        </ul>
    </dd>
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line27">line 27</a>
    </li></ul></dd>
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="Document.html">Document</a></li>
        
            <li><a href="Cursor.html">Cursor</a></li>
        </ul>
    </dd>
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   // The following code shows how to reference collections initialized by   // MonguitoDB() constructor.   var db = new MonguitoDB(localStorage, ["orders", "users"]);   var ordersCollection = db.orders;   var usersCollection  = db.users;</code></pre>

    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="count"><span class="type-signature"></span>count<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Counts the number of documents in this collection.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line275">line 275</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">number</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db    = new MonguitoDB(localStorage, "orders");   var count = db.orders.count();</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="find"><span class="type-signature"></span>find<span class="signature">(query)</span><span class="type-signature"> &rarr; {<a href="Cursor.html">Cursor</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Retrieves all documents in this collection matching the specified query.If no query is passed-in, all documents will be returned.<br><br>This function returns a <a href="Cursor.html">Cursor</a> that can be manipulated as anarray plus the following actions: update, remove, get, find, findOne,sort, first, last, pretty, count.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                    &lt;nullable><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Specifies selection criteria.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line208">line 208</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="Cursor.html">Cursor</a></span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db     = new MonguitoDB(localStorage, "orders");   var orders = db.orders.find();   // Each element in the cursor is of type <a href="Document.html">Document</a>   orders.forEach(function (order) {       console.log(order.pretty());   });   // Applying conditions to retrieve the data.   orders = db.orders.find({status: "Delivered"});   orders = db.orders.find({status: "Delivered", seller: "Armani"});   orders = db.orders.find(function (e) { return e.total > 700; });   // Sorting the data.   orders = db.orders.find().sort("seller");   orders = db.orders.find().sort("seller, total");   orders = db.orders.find().sort("seller ASC, total DESC");   // Executing many actions in cascade.   var firstOrder = db.orders.find().sort("total").first();   var lastOrder  = db.orders.find().sort("total").last();   // Printing the whole collection.   console.log(db.orders.find().pretty());</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="findOne"><span class="type-signature"></span>findOne<span class="signature">(query)</span><span class="type-signature"> &rarr; {<a href="Document.html">Document</a>|null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns a <a href="Document.html">Document</a> that satisfies the specified query. Ifmultiple documents satisfy the query, it will be returned the firstdocument found (according to insertion order). If there isno matching document within this collection, it will be returnednull.<br><br>The following actions can be performed on the returned document:update, remove, pretty.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                    &lt;nullable><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Specifies selection criteria.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line254">line 254</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="Document.html">Document</a></span>
|

<span class="param-type">null</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db    = new MonguitoDB(localStorage, "orders");   var order = db.orders.findOne({recipient: "Juan"});      console.log(order.pretty());         // Prints the document.   order.update({status: "Delivered"}); // Updates the document.   order.remove();                      // Removes the document.   // Using findOne() with a function criteria.   var order = db.orders.findOne(function (e) { return e.total > 0; });</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(documentId)</span><span class="type-signature"> &rarr; {<a href="Document.html">Document</a>|null}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Gets the <a href="Document.html">Document</a> that matches the specified _id. If there isno matching document within this collection, it will be returnednull.<br><br>The following actions can be performed on the returned document:update, remove, pretty.<br><br>NOTE: get() is faster than find() and findOne().
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>documentId</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Document _id.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line153">line 153</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="Document.html">Document</a></span>
|

<span class="param-type">null</span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db    = new MonguitoDB(localStorage, "orders");   var order = db.orders.get(1);   console.log(order.pretty());         // Prints the document.   order.update({status: "Delivered"}); // Updates the document.   order.remove();                      // Removes the document.</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="insert"><span class="type-signature"></span>insert<span class="signature">(obj)</span><span class="type-signature"> &rarr; {<a href="Document.html">Document</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Inserts a new object into this collection and returns a reference tothe inserted <a href="Document.html">Document</a>.<br><br>NOTE: _id property is the document's "primary key" wich is automatically      assigned. It can be of two types:<br>      1) Auto-numeric: when _id is omitted in the passed-in obj.<br>      2) UUID: When _id is set to "uuid" in the passed-in obj.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>obj</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Document to insert into the collection.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line101">line 101</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="Document.html">Document</a></span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db = new MonguitoDB(localStorage, "orders");   // case 1) _id will be automatically assigned as an auto-numeric value.   var order = db.orders.insert({recipient: "Juan", total: 50});   var documentId = order._id;   // case 2) _id will be automatically assigned as an UUID.   var order = db.orders.insert({_id: "uuid", recipient: "Juan", total: 50});   var documentId = order._id;</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">(query)</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Removes one or several documents from the current collection.<br><br>NOTE: If no query is passed-in, all documents will be removed.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		<th>Argument</th>
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">function</span>


            
            </td>
            
            
                <td class="attributes">
                
                    
                
                    &lt;nullable><br>
                
                    
                
                </td>
            
            
            
            
            <td class="description last">Selection criteria for the remove.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line337">line 337</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db = new MonguitoDB(localStorage, "orders");   // Removes a single document (that one matching _id = 1).   db.orders.remove({_id: 1});   // Removes several documents (those matching recipient = "Juan").   db.orders.remove({recipient: "Juan"});   // Removes all documents.   db.orders.remove();</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(query, obj)</span><span class="type-signature"> &rarr; {<a href="Cursor.html">Cursor</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Updates one or several documents in the current collection and returnsa <a href="Cursor.html">Cursor</a> containing the updated documents.<br><br>NOTE: _id property can't be modified.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>query</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Selection criteria for the update.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>obj</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>
            
            
            
            
            
            <td class="description last">The modifications to apply (_id is omitted).</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="collection.js.html">collection.js</a>, <a href="collection.js.html#line301">line 301</a>
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    

    

    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="Cursor.html">Cursor</a></span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>   var db = new MonguitoDB(localStorage, "orders");   // Updates a single document (that one matching _id = 1).   db.orders.update({_id: 1}, {status: "Delivered"});   // Updates several documents (those matching recipient = "Juan").   db.orders.update({recipient: "Juan"}, {status: "Delivered"});</code></pre>

    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Collection.html">Collection</a></li><li><a href="Cursor.html">Cursor</a></li><li><a href="Document.html">Document</a></li><li><a href="MonguitoDB.html">MonguitoDB</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Tue May 12 2015 23:17:21 GMT-0500 (COT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>